<div class="container">
    <div class="card">
        <div class="row no-gutters">
            <div class="col-auto">
                <img src="//placehold.it/300" id="flight-img" class="img-fluid" width="300" height="300" alt="">
            </div>
            <div class="col-5">
                <div class="card-block px-2 pt-5 pl-4">
                    <h4 class="card-title">
                        <span id="from">Calgary</span>
                        <i class="fas fa-long-arrow-alt-right"></i>
                        <span id="to">Toronto</span>
                    </h4>
                    <i class="fa fa-plane-departure"></i><span id="from-abbr" class="pl-2 pr-2">YYC</span>
                    <i class="fa fa-plane-arrival"></i><span id="to-abbr"  class="pl-2 pr-2">YYZ</span>
                    <p id="airline" class="card-text mt-3">Air Canada</p>
                    <p id="stops" class="card-text"><span class="font-weight-bold">Stops: </span><span>Direct</span></p>
                    <p id="duration" class="card-text"><span class="font-weight-bold">Duration: </span><span>4H 48M</span></p>
                    <p id="class" class="card-text"><span class="font-weight-bold">Class: </span><span>Standard</span></p>
                </div>
            </div>
            <div class="col px-2 my-auto text-center">
                <h3>
                    $<span id="flight-price">500</span> CAD
                </h3>
            </div>
        </div>
        <div class="card-footer bg-white w-100 text-muted">
            <a class="btn btn-secondary float-right" href="../flights/" target="_blank">Find Flights</a>
        </div>
    </div>
</div>


<script>
    loadFlight();
    document.addEventListener("visibilitychange", function() {
        loadFlight();
    });
    
    function loadFlight() {
        var flight = JSON.parse(localStorage.getItem("flight"));
        if (flight) {
            document.getElementById("airline").innerHTML = flight[0];
            document.getElementById("from").innerHTML = flight[1];
            document.getElementById("from-abbr").innerHTML = flight[2];
            document.getElementById("to").innerHTML = flight[3];
            document.getElementById("to-abbr").innerHTML = flight[4];
            document.getElementById("stops").innerHTML = flight[5];
            document.getElementById("duration").innerHTML = flight[6];
            document.getElementById("class").innerHTML = flight[7];
            document.getElementById("flight-price").innerHTML = flight[8];   
            document.getElementById("flight-img").src = flight[9];   
        }
    }  
</script>